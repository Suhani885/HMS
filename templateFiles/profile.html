<div ng-controller="profileController as profileCtrl">
    <div class="container-fluid py-3 px-0 px-md-3">
        <!-- Profile Header with Avatar -->
        <div class="text-center mb-4" ng-repeat="user in profileCtrl.users">
            <div class="position-relative mb-3 d-inline-block">
                <div class="avatar-placeholder rounded-circle d-flex justify-content-center align-items-center bg-primary text-white mb-2" 
                     style="width: 90px; height: 90px; font-size: 2rem;">
                    {{user.name.charAt(0)}}
                </div>
            </div>
            <h1 class="h2 fw-bold mb-0">My Profile</h1>
            <p class="text-muted mb-0">{{user.role == 'D' ? 'Doctor' : user.role == 'P' ? 'Patient' : 'Receptionist'}}</p>
        </div>

        <!-- Profile Information Cards -->
        <div class="row g-3" ng-repeat="user in profileCtrl.users">
            <!-- Basic Information Section -->
            <div class="col-12">
                <div class="card shadow-sm border-0 rounded-3 mb-3">
                    <div class="card-header bg-white py-3 border-bottom">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-person-circle mr-2 text-primary"></i> Basic Information
                        </h5>
                    </div>
                    <div class="card-body p-3 p-md-4">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-primary border-3">
                                    <h6 class="text-muted mb-1 small">Name</h6>
                                    <p class="mb-0 fw-medium">{{user.name}}</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-primary border-3">
                                    <h6 class="text-muted mb-1 small">Email</h6>
                                    <p class="mb-0 fw-medium text-break">{{user.email}}</p>
                                </div>
                            </div>
                            
                            <!-- Additional Basic Info (for non-admin users) -->
                            <div ng-if="user.role != 'R'" class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-primary border-3">
                                    <h6 class="text-muted mb-1 small">Phone Number</h6>
                                    <p class="mb-0 fw-medium">{{user.phone_number}}</p>
                                </div>
                            </div>
                            <div ng-if="user.role != 'R'" class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-primary border-3">
                                    <h6 class="text-muted mb-1 small">Age</h6>
                                    <p class="mb-0 fw-medium">{{user.age}} years</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Doctor-Specific Information -->
            <div ng-if="user.role == 'D'" class="col-12">
                <div class="card shadow-sm border-0 rounded-3 mb-3">
                    <div class="card-header bg-white py-3 border-bottom">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-clipboard2-pulse mr-2 text-primary"></i> Professional Information
                        </h5>
                    </div>
                    <div class="card-body p-3 p-md-4">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-success border-3">
                                    <h6 class="text-muted mb-1 small">Qualification</h6>
                                    <p class="mb-0 fw-medium">{{user.qualification}}</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-success border-3">
                                    <h6 class="text-muted mb-1 small">Consultation Fee</h6>
                                    <p class="mb-0 fw-medium">Rs. {{user.consultation_fee}}</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-success border-3">
                                    <h6 class="text-muted mb-1 small">Speciality</h6>
                                    <p class="mb-0 fw-medium">{{user.specialist}}</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-success border-3">
                                    <h6 class="text-muted mb-1 small">Experience</h6>
                                    <p class="mb-0 fw-medium">{{user.experience}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Patient-Specific Information -->
            <div ng-if="user.role == 'P'" class="col-12">
                <div class="card shadow-sm border-0 rounded-3 mb-3">
                    <div class="card-header bg-white py-3 border-bottom">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-heart-pulse mr-2 text-primary"></i> Health Information
                        </h5>
                    </div>
                    <div class="card-body p-3 p-md-4">
                        <div class="row g-3">
                            <div class="col-md-6 col-lg-3">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-info border-3">
                                    <h6 class="text-muted mb-1 small">Height</h6>
                                    <p class="mb-0 fw-medium">{{user.height}}</p>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-info border-3">
                                    <h6 class="text-muted mb-1 small">Weight</h6>
                                    <p class="mb-0 fw-medium">{{user.weight}}</p>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-info border-3">
                                    <h6 class="text-muted mb-1 small">Blood Group</h6>
                                    <p class="mb-0 fw-medium">{{user.blood_group}}</p>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="bg-light p-3 rounded-3 h-100 border-start border-info border-3">
                                    <h6 class="text-muted mb-1 small">Address</h6>
                                    <p class="mb-0 fw-medium">{{user.address}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

